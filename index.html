<!DOCTYPE html>
<!--This is how you comment for html-->
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
    <title> Esther's University Memories </title>

    <script src='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css' rel='stylesheet' />
  <style>
    /*this CSS section is where you style your page*/
    /*this is how you comment in CSS*/
	    body { margin: 0; padding: 0; }
	    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
      .mapboxgl-popup {
            max-width: 400px;
            font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
          }
    </style>
  </head>
  <body>
    <div id='map'></div>
    <script>
      mapboxgl.accessToken = 'pk.eyJ1IjoiZXN0aGVyamFuIiwiYSI6ImNrZmg2MWl2djAyMDYyeGxkY21uODlhZmcifQ.7FovHkqtmYJBLKE54ujzSQ';

      //Call in your Map
      var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/estherjan/ckgq8inxw3f4z1amq7jx9om28'
      });

     // Initialize the geolocate control.
   var geolocate = new mapboxgl.GeolocateControl({
         positionOptions: {
         enableHighAccuracy: true
           },
         trackUserLocation: true
         });

  // Add the control to the map.
    map.addControl(geolocate);
    map.on('load', function() {
    geolocate.trigger();
    //Add your feature collection here
    map.addSource('places', {
          'type': 'geojson',
          'data': {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "title": "NTUST Campus",
          "description": "Students' canteen where I had numerous delicious bentos."
        },
        "geometry": {
          "type": "Point",
          "coordinates": [
            121.54261,
            25.013944
          ]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Gongguan MRT",
          "description": "Bus station that I waited for numerous times"
        },
        "geometry": {
          "type": "Point",
          "coordinates": [
            121.53426,
            25.014917
          ]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Picnic Cafe",
          "description": "The cafe that inspired me to open a cafe in the future."
        },
        "geometry": {
          "type": "Point",
          "coordinates": [
            121.53305,
            25.020366
          ]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "AGCT apartment",
          "description": "Best place to stay up late and have desserts."
        },
        "geometry": {
          "type": "Point",
          "coordinates": [
            121.53323,
            25.021324
          ]
        }
      },
      {
        "type": "Feature",
        "properties": {
          "title": "Shida Night Market",
          "description": "Best place to shop and eat with friends."
        },
        "geometry": {
          "type": "Point",
          "coordinates": [
            121.52895,
            25.023642
          ]
        }
      }
    ]
          }
      });
      // Add a layer showing the places.
      map.addLayer({
          'id': 'places',
          'type': 'symbol',
          'source': 'places',
          'layout': {
              'icon-image': 'aquarium-15',
              'icon-allow-overlap': true
          }
      });
      // When a click event occurs on a feature in the places layer, open a popup at the
      // location of the feature, with description HTML from its properties.
      map.on('click', 'places', function(e) {
          var coordinates = e.features[0].geometry.coordinates.slice();
          var description = e.features[0].properties.description;

          new mapboxgl.Popup()
              .setLngLat(coordinates)
              .setHTML(description)
              .addTo(map);
      });
      });
</script>
  </body>
</html>
